# Домашнее задание к занятию #7 - Продвинутая конфигурация (часть 2) - Conditionals, Events, тестирование

## Задача

Перевести приложение для проведения опросов на Spring Shell

**Цель**: После выполнения ДЗ вы сможете использовать Spring Shell, чтобы писать интерфейс приложения без Web.
**Результат**: Приложение на Spring Shell

Описание/Пошаговая инструкция выполнения домашнего задания:

Это домашнее задание выполняется на основе предыдущего.

1. Подключить Spring Shell, используя spring-starter.
2. Написать набор команд, позволяющий проводить опрос.
3. Написать Unit-тесты с помощью spring-boot-starter-test, учесть, что Spring Shell в тестах нужно отключить.

Набор команд зависит только от Вашего желания. Вы можете сделать одну команду, запускающую Ваш Main, 
а можете построить полноценный интерфейс на Spring Shell.
Локализовывать команды Spring Shell НЕ НУЖНО (хотя можно, но это долго и непросто).

## Имплементация

Вопросы Quiz необходимо разместить в файле в папке с ресурсами `src/main/resources` и указать путь к папке с файлами 
в файле настроек `application.yml`. Например:

```properties
quiz.questions.path=quiz/
```

Каждый файл должен иметь имя в соответствии со следующим паттерном:
```
questions_{language code}.csv
```
, где `language code` это двухбуквенный код языка на котором составлен список вопросов. Например:
```
questions_ru.csv
questions_en.csv
```


Вы также можете в файле `application.properties` указать долю (0..1) правильных ответов для того чтобы тест 
был признан успешным:

```properties
quiz.questions.correct-answers-ratio=0.75
```

Если ваш Quiz интернационализирован, то вы можете добавить файл перевода вопросов в `resourses/i18n` и установить
нужную локаль в файле `application.properties`:

```properties
quiz.questions.locale=ru_RU
```


### Формат файла Quiz

Для вопросов используется CSV файл, c разделителем `;` (точка с запятой).
Каждая строка содержит четыре колонки:

1. Тип вопроса - одно из значений: general,choice
2. Текст вопроса
3. Возможные варианты (только для вопросов типа choice). Возможные значения перечисляются через запятую.
4. Правильный ответ. Для вопросов с выбором значение это индекс(начало с нуля) правильного ответа в списке вариантов (п.3), а для общих вопросов непосредственно текст ответа

Например:

```csv
choice;сколько ног у осьминога;2,6,8,10;2
general;первый цвет радуги;;красный
```

### Требования для сборки

- Java 11 (JDK)
- Интернет

### Сборка/Запуск

### ThickJar

Для сборки ThickJar выполните команду:

```shell
./gradlew shadowJar
```

Для запуска приложения используйте следующую команду, находясь в корне проекта:

```shell
java -jar ./build/libs/quiz-1.0-SNAPSHOT-all.jar
```

### Сборка дистрибутива

Используйте следующую команду для сборки дистрибутива проекта:

```shell
./gradlew installShadowDist
```

В директории `./build/install/quiz-shadow/` вы найдете дистрибутив проекта.
Для запуска используйте скрипт `bin/quiz`.

Также вы можете собрать архив дистрибутива используя следующую команду:

```shell
./gradlew shadowDistZip
```

или

```shell
./gradlew shadowDistTar
```

В зависимости от того какой тип архива вам предпочтительнее Zip или Tar.

Соответствующие дистрибутивы, после сборки, вы найдете в директории `build/distributions`.


