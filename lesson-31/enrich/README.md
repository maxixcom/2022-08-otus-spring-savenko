# Домашнее задание к занятию #31 - Spring Integration: Endpoints и Flow Components

## Задача

Реализовать обработку доменной сущности через каналы Spring Integration

**Цель**: Участники смогут осуществлять "интеграцию" частей приложения с помощью EIP
**Результат**: приложение c применением EIP на Spring Integration

**Описание/Пошаговая инструкция выполнения домашнего задания:**

Задание может выполняться на основе предыдущего, а может быть выполнено самостоятельно

Требования:

1. Выберите другую доменную область и сущности. Пример: превращение гусеницы в бабочку.
2. Опишите/сконфигурируйте процесс (IntegrationFlow) с помощью инструментария предоставляемого Spring Integration.
3. Желательно использование MessagingGateway и subfolw (при необходимости).

Задание выполняется в другом репозитории/в другой папке.
Данное задание НЕ засчитывает предыдущие!

## Реализация

Для решения задачи выбран конвейер обогащения поступающих запросов. Каждый запрос содержит `IP` адрес и строку
`UserAgent` браузера. После обработки мы получаем расширенные данные по запросу, такие как информация о:

- Страна из которой совершен запрос
- Данные по операционной системе
- Данные о браузере 


## Требования для сборки и выполнения

- Java 11 (JDK)

## Сборка

```shell
./gradlew build
```

## Запуск

```shell
java -jar ./build/libs/enrich-0.0.1-SNAPSHOT.jar
```

## Сборка дистрибутива

```shell
./gradlew installBootDist
```

Дистрибутив вы сможете найти в папке `build/install/enrich-boot`.

Скрипт запуска находится в папке bin дистрибутива: `build/install/enrich-boot/bin/`

Получить заархивированную версию дистрибутива можно одной из следующих команд:

```shell
./gradlew distTar
```

или

```shell
./gradlew distZip
```

## Доступные операции

После запуска, приложение перейдет в интерактивный режим и появится приглашение `shell:>`. 
Получить список доступных команд можно следующим образом:

```
shell:> help
```

**Команды управления:**

| Команда     | Описание                                     |
|-------------|----------------------------------------------|
| `s`, `send` | Отправить сообщения в Gateway для обогащения |


